<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Displaying Paginated APIs as Infinite Lists</title>
    <link rel="shortcut icon" type="image/jpg" href="/img/favicon.png"/>
    <meta name="description" content="Let&#39;s try to display an infinitely scrollable list without using dependencies!">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-vsc-dark-plus.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Michael Debertol">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Michael Debertol">
    <link rel="preload" href="/fonts/Roboto_Slab/RobotoSlab-VariableFont_wght.ttf" as="font" type="font/ttf" crossorigin>
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/">Michael Debertol</a></h1>
      <ul class="nav">
        <li class="nav-item "><a href="/">Home</a></li>
        <li class="nav-item "><a href="/tags/">Tags</a></li>
        <li class="nav-item "><a href="/about/">About</a></li>
      </ul>
    </header>

    <main  class="tmpl-post">
      <h1>Displaying Paginated APIs as Infinite Lists</h1>

<time datetime="2022-06-16">16. Juni 2022</time><a href="/tags/flutter/" class="post-tag animated-rainbow-hover">Flutter</a><a href="/tags/riverpod/" class="post-tag animated-rainbow-hover">Riverpod</a>

<p>While there are <a href="https://pub.dev/packages/infinite_scroll_pagination">packages out there</a> that provide such functionality,
for the sake of this blog post we'll try to implement it ourselves, using only built-in Flutter widgets.</p>
<p>I'll be using <code>riverpod</code> for managing the state, but it should be possible to use something else as well.</p>
<h2 id="why-reimplement-something-if-there's-already-a-package" tabindex="-1"><a class="direct-link" href="#why-reimplement-something-if-there's-already-a-package">Why Reimplement Something if Thereâ€™s Already a Package?</a></h2>
<p>Sometimes it's just easier.
In my case the package mentioned above would have required changes to make it work for my usecase,
meaning that I would have had to fork it possibly mantain that fork in the future.</p>
<p>Also, I was looking for something a bit simpler. If I implement something for myself,
I can focus on the feature I need; a package has to cover many different usecases and
will therefore be more complex to use.</p>
<h2 id="what-features-do-we-need" tabindex="-1"><a class="direct-link" href="#what-features-do-we-need">What Features Do We Need?</a></h2>
<p>In this post we'll only explore very basic options:</p>
<ul>
<li>The list should load new items as they become visible</li>
<li>While loading some kind of animation should be shown. We'll be using the <a href="https://pub.dev/packages/shimmer">shimmer</a> package for this.</li>
</ul>
<h2 id="how-to-manage-state" tabindex="-1"><a class="direct-link" href="#how-to-manage-state">How To Manage State?</a></h2>
<p>As already mentioned, we're using <code>riverpod</code>, so our data will come from a <code>Provider</code>.
It's very convenient to use <code>FutureProvider.family</code> for our usecase.</p>
<p>Let's take a look at our provider:</p>
<pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> itemProvider <span class="token operator">=</span>  <span class="token class-name">FutureProvider</span><span class="token punctuation">.</span>family<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">></span><span class="token punctuation">,</span> int<span class="token punctuation">></span></span><span class="token punctuation">(</span><br>  <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> page<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">fetchItems</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre>
<p>You can add more features to this provider, like <a href="/posts/riverpod-refresh">refresh functionality</a> or <a href="/posts/riverpod-debounce">debouncing</a>.</p>
<h2 id="using-listview.custom" tabindex="-1"><a class="direct-link" href="#using-listview.custom">Using <code>ListView.custom</code></a></h2>
<p>Since we want to display a List of items, we'll probably want to look at <a href="https://api.flutter.dev/flutter/widgets/ListView-class.html"><code>ListView</code></a>. Since we don't know all items
beforehand, let's take a closer look at <a href="https://api.flutter.dev/flutter/widgets/ListView/ListView.builder.html"><code>ListView.builder</code></a>. Reading through its documentation we'll soon
discover an issue: To display a list with a <strong>limited</strong> amount of items we have to provide <code>itemCount</code> - but it turns out we don't know the number of items at the beginning!
This is however only a minor problem: We'll have to use the lesser known <a href="https://api.flutter.dev/flutter/widgets/ListView/ListView.custom.html"><code>ListView.custom</code></a> constructor,
which allows us to signal that there are no more items by returning <code>null</code> from the item builder.</p>
<p>The basic code will look like this:</p>
<pre class="language-dart"><code class="language-dart"><span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><br>  childrenDelegate<span class="token punctuation">:</span> <span class="token class-name">SliverChildBuilderDelegate</span><span class="token punctuation">(</span><br>    <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment">// TODO: implement item builder</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre>
<h2 id="implementing-the-item-builder" tabindex="-1"><a class="direct-link" href="#implementing-the-item-builder">Implementing The Item Builder</a></h2>
<p>First, we have to calculate the page index and the index of the item in the page.</p>
<pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> pageIndex <span class="token operator">=</span> index <span class="token operator">~/</span> pageSize<span class="token punctuation">;</span><br><span class="token keyword">final</span> itemIndex <span class="token operator">=</span> index <span class="token operator">%</span> pageSize<span class="token punctuation">;</span></code></pre>
<p>Then, to get the corresponding page, we can read our <code>itemProvider</code>:</p>
<pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> page <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token function">itemProvider</span><span class="token punctuation">(</span>pageIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>page</code> is an <code>AsyncValue&lt;List&lt;Item&gt;&gt;</code> object, and it can eiter be loading, contain an error, or contain the items we wanted.
Let's handle all those different cases:</p>
<pre class="language-dart"><code class="language-dart"><span class="token keyword">return</span> page<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><br>  loading<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token class-name">LoadingTile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  error<span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>itemIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Error: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">error</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  data<span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> items <span class="token operator">=</span> data<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>items<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> itemIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token class-name">ItemTile</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> items<span class="token punctuation">[</span>itemIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre>
<p><code>LoadingTile</code> will show a shimmer effect while the data is loading. Error handling should look a bit different in a real app,
possibly offering a <code>retry</code> button and showing the error in a more user-friendly way.</p>
<h2 id="full-example" tabindex="-1"><a class="direct-link" href="#full-example">Full Example</a></h2>
<p>That's already it! I left out some details above that are not relevant for what I wanted to show, but for the sake of completeness I'll provide
a full example below (I've highlighted the most important parts):</p>
<pre class="language-dart"><code class="language-dart"><span class="highlight-line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span></span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:shimmer/shimmer.dart'</span></span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">class</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token class-name">Item</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">const</span> pageSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">fetchItems</span><span class="token punctuation">(</span>int page<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">return</span> <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span></span><br><span class="highlight-line">    <span class="token keyword">const</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span></span><br><span class="highlight-line">      <span class="token number">10</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token class-name">Item</span><span class="token punctuation">(</span></span><br><span class="highlight-line">        <span class="token punctuation">(</span>page <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><mark class="highlight-line highlight-line-active"><span class="token keyword">final</span> itemProvider <span class="token operator">=</span> <span class="token class-name">FutureProvider</span><span class="token punctuation">.</span>family<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">></span><span class="token punctuation">,</span> int<span class="token punctuation">></span></span><span class="token punctuation">(</span></mark><br><mark class="highlight-line highlight-line-active">  <span class="token punctuation">(</span>ref<span class="token punctuation">,</span> page<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">    <span class="token keyword">return</span> <span class="token function">fetchItems</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">  <span class="token punctuation">}</span><span class="token punctuation">,</span></mark><br><mark class="highlight-line highlight-line-active"><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token function">runApp</span><span class="token punctuation">(</span></span><br><span class="highlight-line">    <span class="token keyword">const</span> <span class="token class-name">ProviderScope</span><span class="token punctuation">(</span></span><br><span class="highlight-line">      child<span class="token punctuation">:</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span></span><br><span class="highlight-line">        home<span class="token punctuation">:</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">class</span> <span class="token class-name">LoadingTile</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">const</span> <span class="token class-name">LoadingTile</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token metadata function">@override</span></span><br><span class="highlight-line">  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">return</span> <span class="token class-name">ListTile</span><span class="token punctuation">(</span></span><br><span class="highlight-line">      title<span class="token punctuation">:</span> <span class="token class-name">Shimmer</span><span class="token punctuation">.</span><span class="token function">fromColors</span><span class="token punctuation">(</span></span><br><span class="highlight-line">        baseColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">.</span>shade300<span class="token punctuation">,</span></span><br><span class="highlight-line">        highlightColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white70<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">        child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span></span><br><span class="highlight-line">          width<span class="token punctuation">:</span> <span class="token number">90</span><span class="token punctuation">,</span></span><br><span class="highlight-line">          height<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span></span><br><span class="highlight-line">          color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span></span><br><span class="highlight-line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">class</span> <span class="token class-name">ItemTile</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">final</span> <span class="token class-name">Item</span> item<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">const</span> <span class="token class-name">ItemTile</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>item<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token metadata function">@override</span></span><br><span class="highlight-line">  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">return</span> <span class="token class-name">ListTile</span><span class="token punctuation">(</span></span><br><span class="highlight-line">      title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token metadata function">@override</span></span><br><span class="highlight-line">  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">WidgetRef</span> ref<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span></span><br><span class="highlight-line">      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span></span><br><span class="highlight-line">        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Infinite Scroll Sample"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><mark class="highlight-line highlight-line-active">      body<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span></mark><br><mark class="highlight-line highlight-line-active">        childrenDelegate<span class="token punctuation">:</span> <span class="token class-name">SliverChildBuilderDelegate</span><span class="token punctuation">(</span></mark><br><mark class="highlight-line highlight-line-active">          <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">            <span class="token keyword">final</span> pageIndex <span class="token operator">=</span> index <span class="token operator">~/</span> pageSize<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">            <span class="token keyword">final</span> itemIndex <span class="token operator">=</span> index <span class="token operator">%</span> pageSize<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">            <span class="token keyword">final</span> page <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token function">itemProvider</span><span class="token punctuation">(</span>pageIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">            <span class="token keyword">return</span> page<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span></mark><br><mark class="highlight-line highlight-line-active">              loading<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">const</span> <span class="token class-name">LoadingTile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></mark><br><mark class="highlight-line highlight-line-active">              error<span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token keyword">if</span> <span class="token punctuation">(</span>itemIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">                  <span class="token keyword">return</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Error: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">error</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">                  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token punctuation">}</span></mark><br><mark class="highlight-line highlight-line-active">              <span class="token punctuation">}</span><span class="token punctuation">,</span></mark><br><mark class="highlight-line highlight-line-active">              data<span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token keyword">final</span> items <span class="token operator">=</span> data<span class="token punctuation">.</span>value<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token keyword">if</span> <span class="token punctuation">(</span>items<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> itemIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">                  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token punctuation">}</span></mark><br><mark class="highlight-line highlight-line-active">                <span class="token keyword">return</span> <span class="token class-name">ItemTile</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> items<span class="token punctuation">[</span>itemIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">              <span class="token punctuation">}</span><span class="token punctuation">,</span></mark><br><mark class="highlight-line highlight-line-active">            <span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">          <span class="token punctuation">}</span><span class="token punctuation">,</span></mark><br><mark class="highlight-line highlight-line-active">        <span class="token punctuation">)</span><span class="token punctuation">,</span></mark><br><mark class="highlight-line highlight-line-active">      <span class="token punctuation">)</span><span class="token punctuation">,</span></mark><br><span class="highlight-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>

    <hr>
    <div class="post-footer">
      <div class="prev-post">
      </div>
      <div class="next-post">
          <a class="animated-rainbow-hover" href="/posts/riverpod-debounce/">Debouncing a FutureProvider
            <div class="icon baseline">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7"/>
              </svg>
            </div>
          </a>
        
      </div>
    </div>
    </main>

    <footer>
      <div>Michael Debertol</div>
      <div class="footer-text">
        Â© 2022 Michael Debertol, All rights reserved
      </div>
      <div class="footer-text">
        <a href="https://github.com/miDeb/personal-blog">Source code on GitHub</a>
      </div>
    </footer>

  </body>
</html>
